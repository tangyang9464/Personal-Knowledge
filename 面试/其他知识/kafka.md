#### kafka

##### 简介

kafka是一个分布式流式处理平台，一般用作消息队列和日志数据处理。

##### 选择原因

- 拥有较少的核心功能，但提供了极高的并发量。采用分布式架构，以及多副本机制，保证了可用性与可靠性。

##### 特点

- 快速持久化
- 高并发量
- 分布式系统：Broker、Producer和Consumer都原生自动支持分布式，自动实现负载均衡；

##### 消息模型

- **点对点**：生产者发布一条消息，只能有一个消费者消费一次。
- **发布-订阅**：使用topic作为消息载体，发布者发布一条消息，订阅topic的消费者均可以消费，没有订阅的就不会接收到消息

##### Broker、Topic、Partition

- **Broker**：kafka集群中的一个服务节点，可以看作一个kafka实例
- **Topic**：消息的载体，发布到特定的topic，消费特定的topic
- **Partition**：每个topic有多个partition分区，可以存放在不同的broker，实现负载均衡

##### Zookeeper

它是一个分布式管理框架，提供服务注册、管理等工作

- Broker、topic的注册、管理
- partition存放在不同的broker，它负责记录它们之间的关系。并尽可能的将partition存放在不同的broker上，实现负载均衡

